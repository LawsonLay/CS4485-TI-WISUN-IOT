<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RF Testing using BTool &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
BLE5-Stack User&#39;s Guide
 2.2.11.00 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Network Processor Interface (NPI)" href="../ble-stack-common/npi-index.html" />
    <link rel="prev" title="Production and Direct Test Mode (PTM, DTM)" href="ptm-and-dtm.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug ble-stack-5.x testing-with-btool-cc26xx";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../ble-stack-5.x-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
BLE5-Stack User's Guide

          </a>
              <div class="version">
                2.2.11.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/quickstart-intro-cc13xx_cc26xx.html">Introduction to the SimpleLink CC13xx/CC26xx SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/ble5-quick-start.html">TI BLE5-Stack Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/platform-cc13xx_cc26xx.html">The CC13xx or CC26xx SDK Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/tirtos-index-cc13xx_cc26xx.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/freertos-index.html">FreeRTOS (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/ble-stack-5-index-cc13xx_cc26xx.html">BLE5-Stack</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html">Developing a Bluetooth LE Application</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#application-layer">Application Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#compiler-and-linker-options">Compiler and Linker Options</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#production-test-mode-and-direct-test-mode">Production Test Mode and Direct Test Mode</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ptm-and-dtm.html">Production and Direct Test Mode (PTM, DTM)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">RF Testing using BTool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tool-configuration">Tool Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#bluetooth-le-network-processor">Bluetooth LE Network Processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#running-the-sdk-on-custom-hardware">Running the SDK on Custom Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html#optimizing-memory-usage">Optimizing Memory Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../coexistence/coexistence.html">Coexistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/localization-index-cc13xx_cc26xx.html">RTLS Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-mesh/index.html">Bluetooth Mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/u-stack-index-cc13xx_cc26xx.html">Micro BLE Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensor-controller/sensor-controller.html">Sensor Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/memory-index.html">Memory Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-common/npi-index.html">Network Processor Interface (NPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/ble5-oad-index-cc13xx_cc26xx.html">TI Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/ble5-oad-index-mcuboot.html">MCUboot Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-tfm/index.html">Security Features of CC13x4 and CC26x4 Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/sysconfig-index-cc13xx_cc26xx.html">System Configuration Tool (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/migration-cc13xx_cc26xx.html">Porting Guide and Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/api-reference-cc13xx_cc26xx.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5.x-guide/reference-cc13xx_cc26xx.html">Terms and Definitions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../ble-stack-5.x-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
BLE5-Stack User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../ble-stack-5.x-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../ble-stack-5.x-guide/developing-with-sdk-index-cc13xx_cc26xx.html">Developing a Bluetooth LE Application</a> &raquo;</li>
      <li>RF Testing using BTool</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="rf-testing-using-btool">
<h1>RF Testing using BTool<a class="headerlink" href="#rf-testing-using-btool" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a step by step explanation about how to execute a sequence of
commands for testing, please refer to the Application Note on
<a class="reference external" href="https://www.ti.com/lit/pdf/swra737">How to Do RF Radio Test With Your Bluetooth Product</a>. Information related to
Packet Error Rate (PER) and RSSI measurements can be found there.</p>
</div>
<div class="section" id="tool-configuration">
<h2>Tool Configuration<a class="headerlink" href="#tool-configuration" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>In order to set the device to perform RF tests, we need an image capable of
receive and executing HCI commands.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Flash the device with the respective <code class="docutils literal notranslate"><span class="pre">host_test</span> <span class="pre">example</span></code>, which can be
found inside the SDK folder
<code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;/examples/rtos/LP_EM_CC26xx/ble5stack/host_test</span></code>.
You can import the project in CCS or IAR and tune it to fit your own design
(e.g. change the UART mapping).</p></li>
<li><p>If your design allows it (or if you are running the tests on a TI LaunchPad),
you can directly flash the pre-built hexfile on the device. To do so, use
<a class="reference external" href="https://www.ti.com/tool/uniflash">UniFlash</a> and use the following image
<code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;/examples/rtos/LP_EM_CC26xx/ble5stack/hexfiles/host_test_app.hex</span></code>.</p></li>
<li><p>Finally, it is recommended to power cycle the device after flashing it.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>BTool can be found within the SDK. Execute the file
<code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;/tools/ble5stack/btool/btool.exe</span></code> to open the tool.</p></li>
<li><p>When opening BTool, you are prompt to select the COM interface used
by your device. Make sure to choose the interface
<code class="docutils literal notranslate"><span class="pre">COMXX</span> <span class="pre">-</span> <span class="pre">XDS110</span> <span class="pre">Class</span> <span class="pre">Application/User</span> <span class="pre">UART</span></code>.</p></li>
<li><p>At start BTool automatically sends a few commands to the device. These
commands are not relevant for this use case, so just wait for the commands
to be executed, then right click on the log and click <code class="docutils literal notranslate"><span class="pre">Clear</span> <span class="pre">Log</span></code>.</p></li>
<li><p>Move to the panel <code class="docutils literal notranslate"><span class="pre">Advanced</span> <span class="pre">Commands</span></code>. From this panel you can send
commands to the device. For this use case, the commands within
<code class="docutils literal notranslate"><span class="pre">HCI</span> <span class="pre">Extended</span></code> and <code class="docutils literal notranslate"><span class="pre">HCI</span></code> should be the most useful.</p></li>
<li><p>Send a reset command <code class="docutils literal notranslate"><span class="pre">HCI_Reset</span></code>. A UART command is sent to
the device (displayed in green) and the device resets and sends
back an answer.</p></li>
</ol>
<div class="figure align-center" id="id2">
<span id="btool-screen-1"></span><img alt="../_images/Btool.png" src="../_images/Btool.png" />
<p class="caption"><span class="caption-number">Figure 112. </span><span class="caption-text">BTool interface - Advanced Commands</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
<div class="legend">
<p>Assuming you have reached this point, it means the device is properly flashed,
the UART commands are properly sent and executed by the device. Now we can look
at sending more test commands to the device.</p>
</div>
</div>
<ol class="arabic" start="7">
<li><p>The HCI commands are specified by the Bluetooth Specifications.
In order to offer more testing possibilities, these commands are completed
by HCI Extended commands. Documentation for all these commands can be found
in the
<a class="reference external" href="../ble-stack-5.x-guide/api-reference-cc13xx_cc26xx.html">API references section of the user’s guide</a>.</p></li>
<li><p>Only a subset of the commands will be used for testing (see below).
Commands in bold are the ones commonly used:</p>
<blockquote>
<div><dl>
<dt>Continuous Wave (Non-signaling)</dt><dd><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 32%" />
<col style="width: 35%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Command</strong></p></td>
<td><p><strong>Parameters</strong></p></td>
<td><p><strong>Comments</strong></p></td>
</tr>
<tr class="row-even"><td><p>HCI_Reset</p></td>
<td><p>none</p></td>
<td><p>To reset the device</p></td>
</tr>
<tr class="row-odd"><td><p>HCIExt_EndModemTestCmd</p></td>
<td><p>none</p></td>
<td><p>To terminate a modem test</p></td>
</tr>
<tr class="row-even"><td><p>HCIExt_ModemTestTxCmd</p></td>
<td><p>Modulation, Channel</p></td>
<td><p>For the 1M PHY only</p></td>
</tr>
<tr class="row-odd"><td><p>HCIExt_ModemTestRxCmd</p></td>
<td><p>Channel</p></td>
<td><p>For the 1M PHY only</p></td>
</tr>
<tr class="row-even"><td><p>HCIExt_EnhancedModemTestTxCmd</p></td>
<td><p>Modulation, PHY, Channel</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>HCIExt_EnhancedModemTestRxCmd</p></td>
<td><p>PHY, Channel</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>HCIExt_SetTxPowerCmd</p></td>
<td><p>dBm</p></td>
<td><p>To set TxPower for modem tests</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>Direct Test Mode - DTM (Signaling)</dt><dd><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 32%" />
<col style="width: 35%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Command</strong></p></td>
<td><p><strong>Parameters</strong></p></td>
<td><p><strong>Comments</strong></p></td>
</tr>
<tr class="row-even"><td><p>HCI_Reset</p></td>
<td><p>none</p></td>
<td><p>To reset the device</p></td>
</tr>
<tr class="row-odd"><td><p>HCI_LE_TestEnd</p></td>
<td><p>none</p></td>
<td><p>To terminate a DTM test</p></td>
</tr>
<tr class="row-even"><td><p>HCI_LE_TransmitterTest</p></td>
<td><p>Channel, Data Length, Data</p></td>
<td><p>For the 1M PHY only</p></td>
</tr>
<tr class="row-odd"><td><p>HCI_LE_ReceiverTest</p></td>
<td><p>Channel</p></td>
<td><p>For the 1M PHY only</p></td>
</tr>
<tr class="row-even"><td><p>HCI_LE_EnhancedTransmitterTest</p></td>
<td><p>Channel, Data Length, Payload, PHY</p></td>
<td><p>Payload to be selected from DTM standard</p></td>
</tr>
<tr class="row-odd"><td><p>HCI_LE_EnhancedReceiverTest</p></td>
<td><p>Channel, PHY, modulationIndex</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>HCIExt_SetMaxDtmTxPowerCmd</p></td>
<td><p>dBm</p></td>
<td><p>To set TxPower for DTM tests</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
</li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ptm-and-dtm.html" class="btn btn-neutral float-left" title="Production and Direct Test Mode (PTM, DTM)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../ble-stack-common/npi-index.html" class="btn btn-neutral float-right" title="Network Processor Interface (NPI)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010-2024, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>