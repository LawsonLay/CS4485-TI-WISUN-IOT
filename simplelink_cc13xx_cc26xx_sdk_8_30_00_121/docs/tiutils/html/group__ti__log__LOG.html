<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TI Utilities API: Log Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI Utilities API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Log Interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Log module provides APIs to instrument source code.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLog__Module.html">Log_Module</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log module.  <a href="structLog__Module.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga3108d1f3b1a71e963906d438b1ce876b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#ga3108d1f3b1a71e963906d438b1ce876b">Log_TI_LOG_VERSION</a>&#160;&#160;&#160;0.1.0</td></tr>
<tr class="memdesc:ga3108d1f3b1a71e963906d438b1ce876b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log version.  <a href="#ga3108d1f3b1a71e963906d438b1ce876b">More...</a><br /></td></tr>
<tr class="separator:ga3108d1f3b1a71e963906d438b1ce876b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga402177acac5e3252c877bbdda35f024b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#ga402177acac5e3252c877bbdda35f024b">Log_MODULE_DEFINE</a>(name,  init)&#160;&#160;&#160;const <a class="el" href="structLog__Module.html">Log_Module</a> LogMod_ ## name = init</td></tr>
<tr class="memdesc:ga402177acac5e3252c877bbdda35f024b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a log module.  <a href="#ga402177acac5e3252c877bbdda35f024b">More...</a><br /></td></tr>
<tr class="separator:ga402177acac5e3252c877bbdda35f024b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e973aace553bd66daf84b9a5af7384b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#ga4e973aace553bd66daf84b9a5af7384b">Log_MODULE_DEFINE_WEAK</a>(name,  init)&#160;&#160;&#160;const __weak <a class="el" href="structLog__Module.html">Log_Module</a> LogMod_ ## name = init</td></tr>
<tr class="memdesc:ga4e973aace553bd66daf84b9a5af7384b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines Log module as weak.  <a href="#ga4e973aace553bd66daf84b9a5af7384b">More...</a><br /></td></tr>
<tr class="separator:ga4e973aace553bd66daf84b9a5af7384b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf63cddf46d32beb2663a4fe734a9419b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gaf63cddf46d32beb2663a4fe734a9419b">Log_MODULE_USE</a>(name)&#160;&#160;&#160;extern const <a class="el" href="structLog__Module.html">Log_Module</a> LogMod_ ## name</td></tr>
<tr class="memdesc:gaf63cddf46d32beb2663a4fe734a9419b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a reference to a log module.  <a href="#gaf63cddf46d32beb2663a4fe734a9419b">More...</a><br /></td></tr>
<tr class="separator:gaf63cddf46d32beb2663a4fe734a9419b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4b6e40a56c282b2a1cc04c22c73778a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gac4b6e40a56c282b2a1cc04c22c73778a">LOG_MODULE_SYM</a>(name)&#160;&#160;&#160;LogMod_ ## name</td></tr>
<tr class="memdesc:gac4b6e40a56c282b2a1cc04c22c73778a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves to the symbol name of the log module.  <a href="#gac4b6e40a56c282b2a1cc04c22c73778a">More...</a><br /></td></tr>
<tr class="separator:gac4b6e40a56c282b2a1cc04c22c73778a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf26323fdf36a559a5fe882bf5566c3d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4">Log_buf</a>(module,  level,  format,  data,  size)&#160;&#160;&#160;_Log_buf_B(module, level, format, data, size)</td></tr>
<tr class="memdesc:gaf26323fdf36a559a5fe882bf5566c3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a continuous block of memory.  <a href="#gaf26323fdf36a559a5fe882bf5566c3d4">More...</a><br /></td></tr>
<tr class="separator:gaf26323fdf36a559a5fe882bf5566c3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga236a43b8f6c37a693a6feec79018ea50"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(module,  level, ...)&#160;&#160;&#160;_Log_printf_B(LOG_OPCODE_FORMATED_TEXT, module, level, __VA_ARGS__)</td></tr>
<tr class="memdesc:ga236a43b8f6c37a693a6feec79018ea50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log an event with a printf-formatted string.  <a href="#ga236a43b8f6c37a693a6feec79018ea50">More...</a><br /></td></tr>
<tr class="separator:ga236a43b8f6c37a693a6feec79018ea50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3c5cc2f5389961743c3bf7280dfdfd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gae3c5cc2f5389961743c3bf7280dfdfd2">Log_MODULE_SET_LEVELS</a>(module,  levels)</td></tr>
<tr class="memdesc:gae3c5cc2f5389961743c3bf7280dfdfd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a log module's log level bitmask.  <a href="#gae3c5cc2f5389961743c3bf7280dfdfd2">More...</a><br /></td></tr>
<tr class="separator:gae3c5cc2f5389961743c3bf7280dfdfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0e1c3f88ecf192d58fa66c508c1261b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gad0e1c3f88ecf192d58fa66c508c1261b">Log_MODULE_GET_LEVELS</a>(module)</td></tr>
<tr class="memdesc:gad0e1c3f88ecf192d58fa66c508c1261b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a log module's log level bitmask.  <a href="#gad0e1c3f88ecf192d58fa66c508c1261b">More...</a><br /></td></tr>
<tr class="separator:gad0e1c3f88ecf192d58fa66c508c1261b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gadbd36cdcf1aae2b24f0020d2c5502d2d"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__ti__log__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a></td></tr>
<tr class="memdesc:gadbd36cdcf1aae2b24f0020d2c5502d2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log level bitmask values.  <a href="#gadbd36cdcf1aae2b24f0020d2c5502d2d">More...</a><br /></td></tr>
<tr class="separator:gadbd36cdcf1aae2b24f0020d2c5502d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4c7e82e2eea245a07ee2f2692d6961f"><td class="memItemLeft" align="right" valign="top">typedef const struct <a class="el" href="structLog__Module.html">Log_Module</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gab4c7e82e2eea245a07ee2f2692d6961f">Log_Module</a></td></tr>
<tr class="separator:gab4c7e82e2eea245a07ee2f2692d6961f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab59a3a7ac2a414eaa0fa70df89cf1819"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gab59a3a7ac2a414eaa0fa70df89cf1819">Log_printf_fxn</a>) (const <a class="el" href="structLog__Module.html">Log_Module</a> *handle, uint32_t header, uint32_t headerPtr, uint32_t numArgs,...)</td></tr>
<tr class="separator:gab59a3a7ac2a414eaa0fa70df89cf1819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga079a45c47959711eca16914509ce1b6b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#ga079a45c47959711eca16914509ce1b6b">Log_printfN_fxn</a>) (const <a class="el" href="structLog__Module.html">Log_Module</a> *handle, uint32_t header, uint32_t headerPtr,...)</td></tr>
<tr class="separator:ga079a45c47959711eca16914509ce1b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeb379de18af133e172fa07f076c72f5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gaeeb379de18af133e172fa07f076c72f5">Log_buf_fxn</a>) (const <a class="el" href="structLog__Module.html">Log_Module</a> *handle, uint32_t header, uint32_t headerPtr, uint8_t *data, size_t size)</td></tr>
<tr class="separator:gaeeb379de18af133e172fa07f076c72f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac2642f9959f3f0287f297b941797c733"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__log__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a> { <br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733adce8a06ec2711142441a80d1727db557">Log_DEBUG</a> = 1 &lt;&lt; 0, 
<br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a4b5a8626a7b43b2f5001716043acfecd">Log_VERBOSE</a> = 1 &lt;&lt; 2, 
<br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a35b2f02bd4c19aa479d15eaa4bd8f082">Log_INFO</a> = 1 &lt;&lt; 4, 
<br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733aabc0ffa529967b95bcfb4652c1f9f6ad">Log_WARNING</a> = 1 &lt;&lt; 6, 
<br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a2339d0128a57a6750f9110f366d924a1">Log_ERROR</a> = 1 &lt;&lt; 8, 
<br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a047c5e3da7cfd4d3870cc5f206360746">Log_ALL</a> = Log_DEBUG + Log_VERBOSE + Log_INFO + Log_WARNING + Log_ERROR, 
<br />
&#160;&#160;<a class="el" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a3fa3d14d139aac594947d55f8498aeba">Log_NONE</a> = 0
<br />
 }<tr class="memdesc:gac2642f9959f3f0287f297b941797c733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log level bitmask values.  <a href="group__ti__log__LOG.html#gac2642f9959f3f0287f297b941797c733">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gac2642f9959f3f0287f297b941797c733"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Log module provides APIs to instrument source code. </p>
<p>To access the LOG APIs, the application should include its header file as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">ti/log/Log.h</a>&gt;</span></div></div><!-- fragment --><h2>Definitions</h2>
<p>The following terms are used throughout the log documentation.</p>
<ul>
<li><code>Log module</code>: A parameter passed to Log APIs to indicate which software module the log statement originated from. Modules also control the routing of logs to sinks.</li>
<li><code>Log level</code>: The severity or importance of a given log statement.</li>
<li><code>Log sink</code>: Also simply called a logger. This is a transport-specific logger implementation on the target side. <br />
 The Logging framework is flexible such that multiple sinks may exist in a single firmware image.</li>
<li><code>Call site</code>: A specific invocation of a Log API in a given file or program.</li>
<li><code>Record</code>: The binary representation of a log when it is stored or transported by a given sink. The log record format varies slightly with each sink depending on their implementation and needs. However, they all convey the same information.</li>
<li>Link Time Optimization (LTO): A feature of some toolchains that can significantly reduce the code overhead of the log statements through a process called dead code elimination. In order to maximize the benefits of this, all static libraries and application files should have LTO enabled.</li>
</ul>
<h2>Summary</h2>
<p>The following sections describe the usage of the TI logging system implementation. This document will focus on the target (i.e. code that runs) on the embedded device. For associated PC tooling, please see the <a href="../../../tools/log/tiutils/Readme.html">README</a> in the tools/log/tiutils/ folder.</p>
<p>Design Philosophy:</p>
<ul>
<li>Logs target code should be as efficient as possible.<ul>
<li>This means that Log APIs should minimize FLASH, RAM, and execution overhead.</li>
</ul>
</li>
<li>Complexity should be pushed to host side tooling where possible.<ul>
<li>Even if this means that PC setup/tooling requirements are more complex.</li>
</ul>
</li>
<li>Multiple log sink implementations shall be able to exist in a system.<ul>
<li>Where applicable, multiple instances should be supported (e.g. multiple circular buffers to collect logs)</li>
</ul>
</li>
<li>It shall be possible to remove logging entirely using the preprocessor</li>
<li>Configuration of logging should be deferred to application compile and link time.<ul>
<li>That means that the end application builder should make decisions about the logging settings. This means that TI provided libraries are not opinionated about what log levels should be enabled or how modules should be routed to sinks.</li>
</ul>
</li>
<li>TI's logging system will leverage SysConfig out of the box, but it should be possible to configure and use logging easily without the needing SysConfig.</li>
</ul>
<h2>Stated Limitations</h2>
<ul>
<li>It is not possible to control which log sink is used for each call site. Routing of logs is controlled at a module level.</li>
<li>A maximum of 8 arguments is supported for variadic APIs.</li>
<li>Users may not add log statements to functions that are direct dependencies of delegate log functions. Not respecting this will lead to recursive emissions of the log statements added to the dependencies. The dependencies of the configured delegate function depends on which log sink is selected for a given log module. For example, if an application using the UART log sink has a <a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf()</a> at the application level and another in HwiP_disable(), the first call will be delegated to LogSinkUART_printf(), which then calls HwiP_disable(). This, in turn, triggers another <a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf()</a> that loops back to LogSinkUART_printf(), creating an endless cycle. Note that SysConfig will prevent users from adding such log statements.</li>
</ul>
<h2>Anatomy of Log Statement</h2>
<p>At the core of the logging implementation is heavy use of the C preprocessor. When reading an application, the Log APIs may look like function calls, but the preprocessor expands them heavily.</p>
<p>There are several ways in which the preprocessor is used.</p>
<h3>Global</h3>
<ol type="1">
<li><p class="startli">To enable/disable logs globally. If <code>ti_log_Log_ENABLE</code> is not defined, all statements are removed by the preprocessor. This does not rely on LTO or any other optimization. It removes any traces of logs from the program.</p>
<p class="startli">This define is pushed to <code>ti_utils_build_compiler.opt</code> whenever any Log module is enabled in SysConfig.</p>
</li>
</ol>
<h3>Module</h3>
<ol type="1">
<li><p class="startli">To enable/disable logs by module. If <code>ti_log_Log_ENABLE_&lt;MyLogModuleName&gt;=1</code> is not defined, all statements using that Log module are removed by the preprocessor. This does not rely on LTO or any other optimization. Removing the define removes all traces of the log from the compiled code. Just defining the symbol name <code>ti_log_Log_ENABLE_&lt;MyLogModuleName&gt;</code> without setting it to 1 will not include Log statements during compilation.</p>
<p class="startli">These defines are automatically pushed to <code>ti_utils_build_compiler.opt</code> for all modules configured in SysConfig.</p>
<p class="startli">Some TI libraries that have logging enabled also contain multiple log modules. Enabling only a subset of Log modules via the preprocessor will not cause the Log statements associated with the remaining Log modules to be removed since this is a compile-time event. The Log statements associated with individual modules can be removed from logging-enabled TI libraries by recompiling those libraries without the module-level flags in question.</p>
</li>
<li><p class="startli">If a Log Module's <a class="el" href="structLog__Module.html#a64efb30e2cd82f4b659f6cc26878be56">Log_Module.dynamicLevelsPtr</a> is set to NULL, dynamic module log levels will be disabled for the module and only the constant defined 'levels' bitmap will be used for the Log Module. If a Log Module's <a class="el" href="structLog__Module.html#a64efb30e2cd82f4b659f6cc26878be56">Log_Module.dynamicLevelsPtr</a> is not NULL, it will be set to a separate, volatile, <code>levels</code> bitmap for the Log Module. This separate bitmap will replace the previous, constant defined 'levels' bitmap for all module log level comparisons. In doing so, the log module's log levels will be dynamic and can be changed at runtime by the logging macro <a class="el" href="group__ti__log__LOG.html#gae3c5cc2f5389961743c3bf7280dfdfd2" title="Set a log module&#39;s log level bitmask. ">Log_MODULE_SET_LEVELS()</a>. Changing a module's log levels as a runtime operation enables total control over which log levels are enabled.</p>
<p class="startli">As mentioned, if dynamic module log levels are enabled, comparisons done by the Log APIs on a module's <code>levels</code> bitmap will be at runtime instead of compile-time. This will both increase code size and increase logging execution time. Before enabling dynamic module log levels, these tradeoffs should be considered.</p>
</li>
</ol>
<h3>Per Log Statement</h3>
<ol type="1">
<li>(Level filtering): Insert the if statement that checks if the log level of the statement has been enabled in its module configuration. If the log level is not enabled, the process ends here.</li>
<li>(String declaration): Automate placement of constant strings, format strings, and pointers to these strings in the the nonloadable metadata section of the out file. This saves FLASH on the target. Each string contains a large amount of data, including the following:<ul>
<li>File and line number of the log statement</li>
<li>The log level and module of the log statement</li>
<li>The format string</li>
<li>The number of arguments</li>
</ul>
</li>
<li>(Argument counting): Log APIs are variadic in nature, up to 8 arguments are supported. However, at preprocess time, the number of arguments must be known.</li>
<li>(Name spacing): Routing from module to sink. The module parameter of the Log API controls which sink its log statements will be routed to. The preprocessor does name expansion to look up the enabled log levels and selected sink function pointers from the module's configuration structure. NOTE: The used sink may require initialization. Please verify with the specific sink documentation on how to initialize the sink.</li>
<li>(Sink API Invocation): With the names resolved and levels checked, the logger is now ready to execute the sink function. This is done via function pointer.</li>
</ol>
<p>An simplified pseudo-C implementation of what <code>Log_printf(LogModule_App1, Log_DEBUG, "Hello World!");</code> would expand to is shown below. This will not compile and is not extensive, just for illustration.</p>
<div class="fragment"><div class="line"><span class="comment">// Global log enable check, wrapped around each log site</span></div><div class="line"><span class="preprocessor">#if defined(ti_log_Log_ENABLE)</span></div><div class="line"><span class="preprocessor">    #if ti_log_Log_ENABLE_LogModule_App1 == 1</span></div><div class="line">        <span class="comment">// Check if the level of this specific log statement has been enabled by the module</span></div><div class="line">        <span class="keywordflow">if</span> (LogMod_LogModule_App1.levels &amp; level) {</div><div class="line">              <span class="comment">// Note that ^^ is the record separator.</span></div><div class="line">              <span class="comment">// Pack meta information into format string. This is stored off target.</span></div><div class="line">              <span class="keyword">const</span> <span class="keywordtype">string</span> logMeta =</div><div class="line">                <span class="stringliteral">&quot;LOG_OPCODE_FORMATED_TEXT^^&quot;</span>../../log.c<span class="stringliteral">&quot;^^80^^Log_DEBUG^^LogMod_LogModule_App1^^&quot;</span>Hello World!<span class="stringliteral">&quot;^^0&quot;</span>;</div><div class="line">              <span class="comment">// Route log to the selected sink implementation.</span></div><div class="line">              <span class="comment">// This is done via function pointer.</span></div><div class="line">              <span class="comment">// The 0 indicates no arguments. If runtime arguments were</span></div><div class="line">              <span class="comment">// provided, they would follow.</span></div><div class="line">              LogMod_LogModule_App1.printf(pointerToModuleConfig, 0);</div><div class="line">        }</div><div class="line"><span class="preprocessor">    #endif</span></div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --><p>From here, the logger has transferred control over to the sink implementation, which varies based on the transport (e.g. circular buffer in memory or UART).</p>
<h2>Modules</h2>
<p>When adding log statements to the target software, it is recommended to create a logging module for each software component in the image. Modules enable the reader to understand where the log record originated from. Some log visualizers may allow the reader to filter or sort log statements by module. It is also recommended to namespace modules.</p>
<p>For example, a good module name for the <code>UART</code> driver that exists in <code>source/ti/drivers</code>, could be <code>ti_drivers_UART</code>.</p>
<p>Modules also control the routing of log records to a sink. Routing is controlled via the Log Modules panel in SysConfig, but can be changed in plain C code - despite this being generally discouraged. To do it, use the macro <a class="el" href="group__ti__log__LOG.html#ga402177acac5e3252c877bbdda35f024b">Log_MODULE_DEFINE</a> and pass the sink specific <code>Log_MODULE_INIT_</code> to the <code>init</code> parameter within the <a class="el" href="group__ti__log__LOG.html#ga402177acac5e3252c877bbdda35f024b">Log_MODULE_DEFINE</a> macro. <code>Log_MODULE_INIT_</code> uses delegate functions for printf and buf that are implementation dependent for each sink based on the available hardware and whether the function is implemented for optimization. An example for the LogBuf sink is below, it will do the following</p>
<ol type="1">
<li>Create a module called <code>LogModule_App1</code>.</li>
<li>Initialize the module for use with the buffer based LogSink. Use buffer instance called <code>CONFIG_ti_log_LogSinkBuf_0</code>.</li>
<li>Enable only the <code>Log_ERROR</code> level. Other logs will not be stored.</li>
<li>Add the delegate function <code>LogSinkBuf_printfSingleton</code> for printf and <code>LogSinkBuf_bufDepInjection</code> for buf.</li>
<li>Disable dynamic log levels with <code>NULL</code>.</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">ti/log/Log.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ti/log/LogSinkBuf.h&gt;</span></div><div class="line"><a class="code" href="group__ti__log__LOG.html#ga402177acac5e3252c877bbdda35f024b">Log_MODULE_DEFINE</a>(LogModule_App1,</div><div class="line">                  Log_MODULE_INIT_SINK_BUF(CONFIG_ti_log_LogSinkBuf_0,</div><div class="line">                                           <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a2339d0128a57a6750f9110f366d924a1">Log_ERROR</a>, LogSinkBuf_printfSingleton, LogSinkBuf_bufDepInjection, NULL));</div></div><!-- fragment --><p>TI created libraries will never use <a class="el" href="group__ti__log__LOG.html#ga402177acac5e3252c877bbdda35f024b">Log_MODULE_DEFINE</a>. This leaves the choice of routing logs to their sinks to the end application writer. This is recommended when creating any static libraries to defer the final logging decisions to link time.</p>
<p>Each new module will instantiate a <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> structure with a <code>levels</code> bitmap and pointers to the selected sink implementation and sink configuration. See the <a class="el" href="structLog__Module.html">Log_Module</a> structure for more information.</p>
<p>If dynamic module log levels are enabled, each new <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> structure will include a pointer to a separate, volatile, <code>levels</code> bitmap. This new bitmap will be used for runtime comparisons of a module's log level. Two logging macros can be used to both set and get a module's log level. Log_MODULE_SET_LEVELS can be used to set the log level of a specific log module and Log_MODULE_GET_LEVELS can be used to retrieve the log level of a specific log module.</p>
<h2>Levels</h2>
<p>Log levels are a way to indicate the severity or importance of the contents of a particular log call site. Each call site takes an argument that allows the user to specify the level. As with modules, log visualization tools allow the user to sort or filter on a given level. This can help the reader to find important or relevant log statements in visualization.</p>
<p>Log levels are also used to control the emission of logs. Each call site will check that the level is enabled before calling the underlying log API.</p>
<p>Depending on optimization, the check at each log statement for whether the given level is enabled or not may end up being optimized away, and the entire log statement may be optimized away if the log level is not enabled.</p>
<p>Additionally, depending whether dynamic module log levels are enabled or not, checking the level at each log statement will be evaluated at runtime or compile-time. Enabling dynamic module log levels or disabling Link-Time-Optimisation (LTO) will cause each log statement to perform a runtime check and will also increase the code size.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> ((level) &amp; module.levels) {</div><div class="line">    <span class="comment">// Call Log API</span></div><div class="line">}</div></div><!-- fragment --><p>Optimization level <code>-flto</code> for both the TICLANG toolchain and GCC will typically be able to optimize the above statement.</p>
<h2>Log Metadata</h2>
<p>Each time a Log API is invoked, a metadata string is placed in the .out file. This string contains information about the API type, file, line module, level, and other information associated with the log call site. Each call site emits a string to a specific memory section called <code>.log_data</code>. In addition to this, a pointer to the string in .log_data is stored in another section called <code>.log_ptr</code>. Because the .log_ptr section is always in the same location, and each entry is the same size, an indexing-scheme can be used to refer to each log-string. Entry 0 in .log_ptr would point to the first string, entry 1 would point to the second string, etc. This Is necessary on some devices where transmitting an entire 32-bit address as a reference to the string is not possible, and instead an 8-bit index can be transmitted across the Log sink implementation instead. In order to use logging, this section should be added to the linker command file. By default, this section points to a nonloadable region of memory. Meaning that the metadata will not be loaded on the target device. Instead, the various logging visualization tools such as wireshark and TI ROV will read the metadata from this section and properly decode the log statements. The benefit of this approach is that very little memory is consumed on target. Additionally, the log transport only needs to store or send pointers to this meta section when a log API is called.</p>
<p>This approach minimizes the amount of memory consumed on device and bytes sent over the transport. This section can be loaded on target if desired or if you are creating a custom logger. The design does not preclude this.</p>
<p>In order to use the logging framework, the log section must be added to the linker command file. Here is a sample for the TI linker. Other examples can be found in the TI provided linker files for each toolchain.</p>
<div class="fragment"><div class="line">MEMORY</div><div class="line">{</div><div class="line">    <span class="comment">// List other memory regions here</span></div><div class="line">    LOG_DATA (R) : origin = 0x90000000, length = 0x40000</div><div class="line">    LOG_PTR  (R) : origin = 0x94000008, length = 0x40000</div><div class="line">}</div><div class="line">SECTIONS</div><div class="line">{</div><div class="line">     .log_data       :   &gt; LOG_DATA, type = COPY</div><div class="line">     .log_ptr        : { *(.log_ptr*) } &gt; LOG_PTR align 4, type = COPY</div><div class="line">}</div></div><!-- fragment --><h2>Sinks</h2>
<p>Sinks are responsible for storing or transporting the log record. In general there are two categories of sinks:</p>
<ol type="1">
<li>Those that perform storage of logs.</li>
<li>Those that stream logs over a transport medium, and thus do not perform storage.</li>
</ol>
<p>Sinks may vary in their implementation based on the nature of the storage or transport that they support, but they all have the following in common:</p>
<ul>
<li>Are named ti_log_LogSink&lt;SinkName&gt;. Where <code>&lt;SinkName&gt;</code> is the name of the sink.</li>
<li>Must implement the Log_printf and Log_buf APIs from this file.</li>
<li>Must provide _USE, _INIT, and _DEFINE macros.</li>
</ul>
<p>In addition, some sinks require initialization. This will be listed in the documentation for the sink implementation. Sinks are closely tied to their associated host side tooling. Since the log statements are not parsed at all by the target code, this must be delegated to a program running on a PC. While the binary format of log records may vary across sink implementations, it is suggested that each log record contain:</p>
<ol type="1">
<li>Timestamp</li>
<li>Pointer to metadata string. This will be looked up by the PC side tooling in the out file.</li>
<li>Runtime arguments</li>
</ol>
<p>This is the minimum amount of information needed to decode a log statement.</p>
<h1>Usage</h1>
<p>This section provides a basic <a class="el" href="group__ti__log__LOG.html#ti_log_LOG_Synopsis">usage summary</a> and a set of <a class="el" href="group__ti__log__LOG.html#ti_log_LOG_Examples">examples</a> in the form of commented code fragments. Detailed descriptions of the LOG APIs are provided in subsequent sections.</p>
<p><a class="anchor" id="ti_log_LOG_Synopsis"></a></p><h3>Synopsis</h3>
<div class="fragment"><div class="line"><span class="comment">// Import the Log header</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">ti/log/Log.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Define your log module and log sink</span></div><div class="line"><span class="comment">// If using SysConfig, it will be done automatically, or it can be done</span></div><div class="line"><span class="comment">// manually:</span></div><div class="line"><span class="comment">// Use helper macro from &lt;ti/log/LogSinkBuf.h&gt; to make a sink instance</span></div><div class="line"><span class="comment">// (buffer + config) with 100 entries.</span></div><div class="line">Log_SINK_BUF_DEFINE(MyBufferSink, LogSinkBuf_Type_CIRCULAR, 100);</div><div class="line"></div><div class="line"><span class="comment">// Use helper macro from &lt;ti/log/Log.h&gt; to make a module pointing at the new</span></div><div class="line"><span class="comment">// sink instance.</span></div><div class="line"><span class="comment">// This example will enable all log levels and disable dynamic log levels</span></div><div class="line"><a class="code" href="group__ti__log__LOG.html#ga402177acac5e3252c877bbdda35f024b">Log_MODULE_DEFINE</a>(MyModule, Log_MODULE_INIT_SINK_BUF(MyBufferSink, <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a047c5e3da7cfd4d3870cc5f206360746">Log_ALL</a>, LogSinkBuf_printfSingleton, LogSinkBuf_bufDepInjection, NULL))</div><div class="line"></div><div class="line"><span class="comment">// Some log sinks may require special initialization to configure hardware.</span></div><div class="line"><span class="comment">// Refer to the documentation of the sink you wish to use. For example,</span></div><div class="line"><span class="comment">// LogSinkITM must be initialised like this before it can be used:</span></div><div class="line"><span class="comment">// LogSinkITM_init();</span></div><div class="line"></div><div class="line"><span class="comment">// Invoke one of the log APIs you want to use for either formatted strings</span></div><div class="line"><span class="comment">// or large buffers</span></div><div class="line"><a class="code" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(MyModule, <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733adce8a06ec2711142441a80d1727db557">Log_DEBUG</a>, &quot;The answer is %d&quot;, 42);</div><div class="line">uint8_t buffer[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};</div><div class="line"><a class="code" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4">Log_buf</a>(MyModule,</div><div class="line">        <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a4b5a8626a7b43b2f5001716043acfecd">Log_VERBOSE</a>,</div><div class="line">        <span class="stringliteral">&quot;The buffer values are:&quot;</span>,</div><div class="line">        buffer,</div><div class="line">        <span class="keyword">sizeof</span>(buffer));</div></div><!-- fragment --><p><a class="anchor" id="ti_log_LOG_Examples"></a></p><h3>Examples</h3>
<ul>
<li><a class="el" href="group__ti__log__LOG.html#ti_utils_LOG_Example_printf">Log printf</a></li>
<li><a class="el" href="group__ti__log__LOG.html#ti_utils_LOG_Example_buf">Logging buffers</a></li>
</ul>
<p><a class="anchor" id="ti_utils_LOG_Example_printf"></a><b>Log Printf</b>:</p>
<p>The following example demonstrates use of the <a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf</a> API in code. Log will embed the format string in the call site and will take arguments using varadic arguments.</p>
<div class="fragment"><div class="line"><a class="code" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(MyModule, <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733adce8a06ec2711142441a80d1727db557">Log_DEBUG</a>, <span class="stringliteral">&quot;Hello World!&quot;</span>);</div></div><!-- fragment --><p>The arguments are type-cast to a uintptr_t, which is an unsigned integer type. This limits the supported format specifiers to the following:</p><ul>
<li>Unsigned decimal integer: %u</li>
<li>Unsigned hexadecimal integer: %x</li>
<li>Unsigned hexadecimal integer (capital letters): %X</li>
<li>Character: %c</li>
<li>Signed decimal integer for positive values: %i, %d</li>
<li>Signed octal for positive values: %o</li>
</ul>
<p><a class="anchor" id="ti_utils_LOG_Example_buf"></a><b>Log Buf</b>:</p>
<p>The following example demonstrates use of the Log buf API in code.</p>
<p>Buf will embed the format string in the call site and will take the buffer as a pointer and length. Buffers are treated as arrays of bytes. The buffer API should only be used when it is necessary to log data that is only available at runtime. It will actually send or store the entire contents of the buffer, so this API should be used sparingly as it is costly in terms of runtime and memory overhead.</p>
<div class="fragment"><div class="line">uint8_t bufferToLog[] = {0, 1, 2, 3, 4, 5};</div><div class="line"><a class="code" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4">Log_buf</a>(ti_log_LogMain,</div><div class="line">        <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733adce8a06ec2711142441a80d1727db557">Log_DEBUG</a>,</div><div class="line">        <span class="stringliteral">&quot;The contents of bufferToLog are: &quot;</span>,</div><div class="line">        bufferToLog,</div><div class="line">        <span class="keyword">sizeof</span>(bufferToLog));</div></div><!-- fragment --><p><a class="anchor" id="ti_utils_LOG_Example_guide"></a><b>Log API usage</b>:</p>
<p>For a uniform experience with the logging tool, users are recommended to follow certain guidelines regarding the Log API. Typical use-cases for each API call is described below</p>
<h4>Log_printf</h4>
<p><a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf</a> should be the default mechanism for generating a log statement within an application. Along with the log levels, <a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf</a> should be used to communicate debug information as a formatted string, which accepts variadic arguments. In this case, a pointer to the string and the arguments themselves are transported by the Log sink.</p>
<div class="fragment"><div class="line"><a class="code" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(MyLibraryLogModule,</div><div class="line">           <a class="code" href="group__ti__log__LOG.html#ggac2642f9959f3f0287f297b941797c733a2339d0128a57a6750f9110f366d924a1">Log_ERROR</a>,</div><div class="line">           <span class="stringliteral">&quot;Library function received illegal argument: %d&quot;</span>,</div><div class="line">           arg);</div></div><!-- fragment --><h4>Log_buf</h4>
<p>When the debug-information to be emitted is a large amount of dynamic data, and is not suitable as an argument to printf, then <a class="el" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4" title="Log a continuous block of memory. ">Log_buf</a> should be used. <a class="el" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4" title="Log a continuous block of memory. ">Log_buf</a> can transport the contents of large dynamic buffers, and as a consequence has a larger overhead and should be used sparsely. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga3108d1f3b1a71e963906d438b1ce876b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3108d1f3b1a71e963906d438b1ce876b">&sect;&nbsp;</a></span>Log_TI_LOG_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_TI_LOG_VERSION&#160;&#160;&#160;0.1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log version. </p>

</div>
</div>
<a id="ga402177acac5e3252c877bbdda35f024b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga402177acac5e3252c877bbdda35f024b">&sect;&nbsp;</a></span>Log_MODULE_DEFINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_MODULE_DEFINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;const <a class="el" href="structLog__Module.html">Log_Module</a> LogMod_ ## name = init</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines a log module. </p>
<p>Log modules are like namespaces for log statements, but also controls the enabled log levels and decides where the log statement is redirected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the log module. Gets prefixed with <code>LogMod_</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init</td><td>Initialization macro from the wanted sink</td></tr>
  </table>
  </dd>
</dl>
<p>This is a helper to define <code><a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> LogMod_yourName</code> and initialize it with the configuration and functions of the wanted log sink.</p>
<p>For example, you have already used the sink definition macros found in LogSinkITM.h, and now you want to define a new module that uses this:</p>
<p>`Log_MODULE_DEFINE(MyDriver, Log_MODULE_INIT_SINK_ITM(Log_DEBUG | Log_ERROR, LogSinkBuf_printfSingleton, LogSinkBuf_bufSingleton, Null))`</p>
<p>Perhaps you used the LogSinkBuf.h helper macro which needs a unique name per instance and made a separate buffer for critical errors:</p>
<p>`Log_MODULE_DEFINE(MyCritical, Log_MODULE_INIT_SINK_BUF(criticalBuf, Log_ERROR, LogSinkBuf_printfDepInjection, LogSinkBuf_bufDepInjection, NULL)`</p>
<p>You would use this in your application via <code>Log_printf(MyCritical, Log_ERROR, "Oops")</code> </p>

</div>
</div>
<a id="ga4e973aace553bd66daf84b9a5af7384b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e973aace553bd66daf84b9a5af7384b">&sect;&nbsp;</a></span>Log_MODULE_DEFINE_WEAK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_MODULE_DEFINE_WEAK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;const __weak <a class="el" href="structLog__Module.html">Log_Module</a> LogMod_ ## name = init</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines Log module as weak. </p>
<p>If there are multiple modules containing Log statements per library, special care must be taken not to create link-time failures. Whether Log statements from a library are present in the final binary is determined by the library configuration the application links against (instrumented vs uninstrumented). Each Log statement has a link-time dependency on its Log module. Enabling only a subset of Log modules contained within the library will cause any Log statements from other Log modules of that library to fail at link-time. This is avoided by declaring a weak instance of each Log module in C code that is compiled into the library. That way, the SysConfig-generated Log module definitions will override the weak library ones but they are there if SysConfig does not define that particular module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the log module. Gets prefixed with <code>LogMod_</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init</td><td>Initialization value of the <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> struct. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf63cddf46d32beb2663a4fe734a9419b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf63cddf46d32beb2663a4fe734a9419b">&sect;&nbsp;</a></span>Log_MODULE_USE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_MODULE_USE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;extern const <a class="el" href="structLog__Module.html">Log_Module</a> LogMod_ ## name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declares a reference to a log module. </p>
<p>Declares that a log module is defined in another file so that it can be used in the file with this macro in it.</p>
<dl class="section note"><dt>Note</dt><dd>This is done automatically for <code>Log</code> and <code>Log_buf</code> statements.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the log module. Gets prefixed with <code>LogMod_</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac4b6e40a56c282b2a1cc04c22c73778a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4b6e40a56c282b2a1cc04c22c73778a">&sect;&nbsp;</a></span>LOG_MODULE_SYM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_MODULE_SYM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;LogMod_ ## name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves to the symbol name of the log module. </p>
<p>Provided for forward compatibility purposes should you have a need to reference the log module symbol directly. </p>

</div>
</div>
<a id="gaf26323fdf36a559a5fe882bf5566c3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf26323fdf36a559a5fe882bf5566c3d4">&sect;&nbsp;</a></span>Log_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_buf</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">format, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Log_buf_B(module, level, format, data, size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log a continuous block of memory. </p>
<p>Use this macro to send out runtime data from the device. This API should be used when the data is non constant and can only be derived at runtime. It is the most intrusive in terms of record overhead and instructions used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module that the buffer originated from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>Log level of type <a class="el" href="group__ti__log__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>Restricted format string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to array of bytes (uint8_t *) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size in bytes of array to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga236a43b8f6c37a693a6feec79018ea50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga236a43b8f6c37a693a6feec79018ea50">&sect;&nbsp;</a></span>Log_printf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_printf</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Log_printf_B(LOG_OPCODE_FORMATED_TEXT, module, level, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log an event with a printf-formatted string. </p>
<p>Use this macro to enable printf style logging. This API offers the most flexibility as the construction of the format string is embedded in the call site of the API. It also supports true variadic arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module that the buffer originated from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>Log level of type <a class="el" href="group__ti__log__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>Variable amount of arguments. Must match your event or format-string.</td></tr>
  </table>
  </dd>
</dl>
<p>Examples:</p><ul>
<li><code>Log_printf(MyModule, Log_INFO, "Hello World")</code></li>
<li><code>Log_printf(MyModule, Log_DEBUG, "Age: %d", 42)</code></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>All arguments are treated as 32-bit wide and are promoted or truncated accordingly. </dd></dl>

</div>
</div>
<a id="gae3c5cc2f5389961743c3bf7280dfdfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3c5cc2f5389961743c3bf7280dfdfd2">&sect;&nbsp;</a></span>Log_MODULE_SET_LEVELS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_MODULE_SET_LEVELS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">levels&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Log_GUARD_MACRO(                                       \</div><div class="line">        <a class="code" href="group__ti__log__LOG.html#gaf63cddf46d32beb2663a4fe734a9419b">Log_MODULE_USE</a>(module);                             \</div><div class="line">        if (LogMod_ ## module.dynamicLevelsPtr != NULL) {   \</div><div class="line">            *LogMod_ ## module.dynamicLevelsPtr = levels;   \</div><div class="line">        }                                                   \</div><div class="line">    )</div><div class="ttc" id="group__ti__log__LOG_html_gaf63cddf46d32beb2663a4fe734a9419b"><div class="ttname"><a href="group__ti__log__LOG.html#gaf63cddf46d32beb2663a4fe734a9419b">Log_MODULE_USE</a></div><div class="ttdeci">#define Log_MODULE_USE(name)</div><div class="ttdoc">Declares a reference to a log module. </div><div class="ttdef"><b>Definition:</b> Log.h:606</div></div>
</div><!-- fragment -->
<p>Set a log module's log level bitmask. </p>
<p>If dynamic module log levels is enabled, use this macro to set a specific log module's log level bitmask as a runtime operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Name of the log module. Gets prefixed with <code>LogMod_</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">levels</td><td>Log level bitmask containing zero or more <a class="el" href="group__ti__log__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad0e1c3f88ecf192d58fa66c508c1261b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0e1c3f88ecf192d58fa66c508c1261b">&sect;&nbsp;</a></span>Log_MODULE_GET_LEVELS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_MODULE_GET_LEVELS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Log_GUARD_MACRO(                                       \</div><div class="line">        <a class="code" href="group__ti__log__LOG.html#gaf63cddf46d32beb2663a4fe734a9419b">Log_MODULE_USE</a>(module);                             \</div><div class="line">        if (LogMod_ ## module.dynamicLevelsPtr != NULL) {   \</div><div class="line">            *LogMod_ ## module.dynamicLevelsPtr;            \</div><div class="line">        }                                                   \</div><div class="line">        else {                                              \</div><div class="line">            LogMod_ ## module.levels;                       \</div><div class="line">        }                                                   \</div><div class="line">    )</div><div class="ttc" id="group__ti__log__LOG_html_gaf63cddf46d32beb2663a4fe734a9419b"><div class="ttname"><a href="group__ti__log__LOG.html#gaf63cddf46d32beb2663a4fe734a9419b">Log_MODULE_USE</a></div><div class="ttdeci">#define Log_MODULE_USE(name)</div><div class="ttdoc">Declares a reference to a log module. </div><div class="ttdef"><b>Definition:</b> Log.h:606</div></div>
</div><!-- fragment -->
<p>Get a log module's log level bitmask. </p>
<p>If dynamic module log levels is enabled, use this macro to get a specific log module's log level bitmask as a runtime operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Name of the log module. Gets prefixed with <code>LogMod_</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gadbd36cdcf1aae2b24f0020d2c5502d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbd36cdcf1aae2b24f0020d2c5502d2d">&sect;&nbsp;</a></span>Log_Level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__ti__log__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a>  <a class="el" href="group__ti__log__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log level bitmask values. </p>
<p>One of these enum values should be used in each <a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf</a> and <a class="el" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4" title="Log a continuous block of memory. ">Log_buf</a> call and one or more should be used in each <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> definition. </p>

</div>
</div>
<a id="gab4c7e82e2eea245a07ee2f2692d6961f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4c7e82e2eea245a07ee2f2692d6961f">&sect;&nbsp;</a></span>Log_Module</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const struct <a class="el" href="structLog__Module.html">Log_Module</a> <a class="el" href="structLog__Module.html">Log_Module</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gab59a3a7ac2a414eaa0fa70df89cf1819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab59a3a7ac2a414eaa0fa70df89cf1819">&sect;&nbsp;</a></span>Log_printf_fxn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Log_printf_fxn) (const <a class="el" href="structLog__Module.html">Log_Module</a> *handle, uint32_t header, uint32_t headerPtr, uint32_t numArgs,...)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga079a45c47959711eca16914509ce1b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga079a45c47959711eca16914509ce1b6b">&sect;&nbsp;</a></span>Log_printfN_fxn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Log_printfN_fxn) (const <a class="el" href="structLog__Module.html">Log_Module</a> *handle, uint32_t header, uint32_t headerPtr,...)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaeeb379de18af133e172fa07f076c72f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeeb379de18af133e172fa07f076c72f5">&sect;&nbsp;</a></span>Log_buf_fxn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Log_buf_fxn) (const <a class="el" href="structLog__Module.html">Log_Module</a> *handle, uint32_t header, uint32_t headerPtr, uint8_t *data, size_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gac2642f9959f3f0287f297b941797c733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2642f9959f3f0287f297b941797c733">&sect;&nbsp;</a></span>Log_Level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ti__log__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log level bitmask values. </p>
<p>One of these enum values should be used in each <a class="el" href="group__ti__log__LOG.html#ga236a43b8f6c37a693a6feec79018ea50" title="Log an event with a printf-formatted string. ">Log_printf</a> and <a class="el" href="group__ti__log__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4" title="Log a continuous block of memory. ">Log_buf</a> call and one or more should be used in each <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> definition. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733adce8a06ec2711142441a80d1727db557"></a>Log_DEBUG&#160;</td><td class="fielddoc"><p>This should be the default level, reserved to be used by users to insert into applications for debugging. Exported libraries should avoid using this level. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a4b5a8626a7b43b2f5001716043acfecd"></a>Log_VERBOSE&#160;</td><td class="fielddoc"><p>This level is recommended to be used in libraries to emit verbose information about the operation of the system and system state. This level is typically used for very frequently emitted logs or for very detailed context and state information.</p>
<p>Enabling this level in multiple <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> may impact the operation of the application or saturate available log sink bandwidth and cause stalls in log record emission. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a35b2f02bd4c19aa479d15eaa4bd8f082"></a>Log_INFO&#160;</td><td class="fielddoc"><p>This level is recommended to be used in libraries to emit simple information about the operation of the system and the system state.</p>
<p>Enabling this level in multiple <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> may impact the operation of the application or saturate available log sink bandwidth and cause stalls in log record emission. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733aabc0ffa529967b95bcfb4652c1f9f6ad"></a>Log_WARNING&#160;</td><td class="fielddoc"><p>This level is recommended to be used in libraries to emit warnings. It should typically indicate something unexpected, but not something that automatically leads to system failure. Warnings may be generated during the regular operation of an application. Frequent warnings may indicate a temporary or systemic issue with the system that may require intervention such as a reset or alteration to the software or hardware design.</p>
<p>The typical usecase for this level is a recoverable failure such as a failed heap allocation or CRC error in a wireless transmission.</p>
<p>Enabling this level in a <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> will not impact regular device operation or impact available log sink bandwidth. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a2339d0128a57a6750f9110f366d924a1"></a>Log_ERROR&#160;</td><td class="fielddoc"><p>This level is recommended to be used in libraries to emit errors. Typically, this should be used when something has failed and the system is unable to continue correct operation. Errors are not generated during regular system operation. An error record being generated always indicates an issue with system that requires intervention. The intervention depends on the error but could be a system reset or changes to the software or hardware of the system.</p>
<p>Enabling this level in a <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> will not impact regular device operation or impact available log sink bandwidth. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a047c5e3da7cfd4d3870cc5f206360746"></a>Log_ALL&#160;</td><td class="fielddoc"><p>This value enables all levels. Should only be used in <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> definitions. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a3fa3d14d139aac594947d55f8498aeba"></a>Log_NONE&#160;</td><td class="fielddoc"><p>This value disables all levels when used by itself. Should only be used in <a class="el" href="structLog__Module.html" title="Log module. ">Log_Module</a> definitions. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">© Copyright 1995-2024</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
