<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>I2CCC26XX.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_dd8fa7f0a423552d37651735ac37558f.html">ti</a></li><li class="navelem"><a class="el" href="dir_15fb9a92674a5e15cac1f3112cfb19ae.html">drivers</a></li><li class="navelem"><a class="el" href="dir_f74ce4d54e39566bb5d2f4a5d9fce8d8.html">i2c</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">I2CCC26XX.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I2C driver implementation for a CC26XX I2C controller. </p>
<hr/>
<h1>Driver Include</h1>
<p>The I2C header file should be included in an application as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i2_c_8h.html">ti/drivers/I2C.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i2_c_c_c26_x_x_8h.html">ti/drivers/i2c/I2CCC26XX.h</a>&gt;</span></div></div><!-- fragment --><p>Refer to <a class="el" href="_i2_c_8h.html">I2C.h</a> for a complete description of APIs.</p>
<h1>Overview</h1>
<p>Refer to <a class="el" href="_i2_c_8h.html">I2C.h</a> for a complete description of APIs.</p>
<h2>General Behavior</h2>
<p>Before using the I2C in CC26XX:</p><ul>
<li>The I2C driver is initialized by calling <a class="el" href="_i2_c_8h.html#a9ff51ddf1d325776fef90cce0223772b" title="Function to initialize the I2C driver. ">I2C_init()</a>.</li>
<li>The I2C HW is configured and system dependencies are declared (e.g. IOs, power, etc.) by calling <a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Open an I2C driver instance. ">I2C_open()</a>.</li>
</ul>
<p>The following is true for receive operation:</p><ul>
<li>RX is enabled by calling <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a>. The readCount of the <a class="el" href="struct_i2_c___transaction.html" title="Defines a transaction to be used with I2C_transfer() or I2C_transferTimeout() ">I2C_Transaction</a> must be set to a non-zero value.</li>
<li>If the <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> succeeds, the I2C remains enabled.</li>
<li>The application must check the return value from <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> to verify that the transfer succeeded.</li>
</ul>
<p>The following apply for transmit operation:</p><ul>
<li>TX is enabled by calling <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a>. The writeCount of the <a class="el" href="struct_i2_c___transaction.html" title="Defines a transaction to be used with I2C_transfer() or I2C_transferTimeout() ">I2C_Transaction</a> must be set to a non-zero value.</li>
<li>If the <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> succeeds, the I2C remains enabled.</li>
<li>The application must check the return value from <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> to verify that the transfer succeeded.</li>
</ul>
<p>After I2C operation has ended:</p><ul>
<li>Release system dependencies for I2C by calling <a class="el" href="_i2_c_8h.html#a12c86d89a687f2ee1eb980d99c32326d" title="Function to close an I2C driver instance. ">I2C_close()</a>.</li>
</ul>
<h3>Known Issue</h3>
<dl class="section warning"><dt>Warning</dt><dd>The I2C will transmit a single data byte in the event that the I2C target address is not acknowledged (NACK'd). This is due to a known hardware bug.</dd></dl>
<h2>Error handling</h2>
<p>If an error occurs during operation:</p><ul>
<li>The I2C Controller transmits a stop bit and remains enabled.</li>
</ul>
<h2>Power Management</h2>
<p>The I2CCC26XX driver sets a power constraint during transactions to keep the device out of standby; so when all tasks are blocked, the device will enter idle mode instead of standby. When the transactions have finished, the power constraint to prohibit standby is released. The following statements are valid:</p><ul>
<li>After <a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Open an I2C driver instance. ">I2C_open()</a> call: I2C is enabled, there are no active I2C transactions, the device can enter standby.</li>
<li>After <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> call: active I2C transactions exist, the device might enter idle, but not standby.</li>
<li>When <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> completes, either after success or error, I2C remains enabled, and the device can enter standby.</li>
<li>After <a class="el" href="_i2_c_8h.html#a12c86d89a687f2ee1eb980d99c32326d" title="Function to close an I2C driver instance. ">I2C_close()</a> call: I2C is disabled</li>
<li>If the device goes into idle during a transaction, the state of SDA is undefined in the time between the transaction completing and the device waking up. SCL will go low until the device wakes up and starts another transaction or releases the bus. If this is a problem for another device on the I2C bus, you can set a power constraint for <a class="el" href="_power_c_c26_x_x_8h.html#ab80d8e6de86d3acfa903ceab156da031">PowerCC26XX_DISALLOW_IDLE</a> before the transaction and release it when the transaction completes.</li>
</ul>
<h2>Supported Functions</h2>
<table class="doxtable">
<tr>
<th>Generic API Function </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a9ff51ddf1d325776fef90cce0223772b" title="Function to initialize the I2C driver. ">I2C_init()</a> </td><td>Initialize I2C driver </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#ab11636302074d67180207ab81ceb323c" title="Initialize an I2C_Params structure to its default values. ">I2C_Params_init()</a> </td><td>Initialize an <a class="el" href="struct_i2_c___params.html" title="I2C parameters used with I2C_open(). ">I2C_Params</a> structure </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Open an I2C driver instance. ">I2C_open()</a> </td><td>Initialize I2C HW and set system dependencies </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a12c86d89a687f2ee1eb980d99c32326d" title="Function to close an I2C driver instance. ">I2C_close()</a> </td><td>Disable I2C HW and release system dependencies </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transfer()</a> </td><td>Start I2C transfer </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#aaee4f0689acbe5f0596e35b18402abf3" title="Perform an I2C transaction with an I2C target peripheral. ">I2C_transferTimeout()</a> </td><td>Start I2C transfer with a timeout </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a8cad0c04a9eca0fffc0ffe5586a5179b" title="Cancels all I2C transfers. ">I2C_cancel()</a> </td><td>Cancels all I2C transfers </td></tr>
</table>
<h2>Supported Bit Rates</h2>
<ul>
<li><a class="el" href="_i2_c_8h.html#ac954e3197f04c50293db466c4abb6fbea966fd2df13b3a9825615c50335cf1987">I2C_100kHz</a></li>
<li><a class="el" href="_i2_c_8h.html#ac954e3197f04c50293db466c4abb6fbea83cc3750242e6ae9194cd7ed94f764d9">I2C_400kHz</a></li>
</ul>
<h2>Supported Address Modes</h2>
<ul>
<li><a class="el" href="_i2_c_8h.html#aa86181c7a2da2635a9b5fb3cb51432b2a357fdd83f27e2f1bc7d05bed59b704d9">I2C_ADDRESS_MODE_7_BIT</a></li>
</ul>
<h2>Unsupported Functionality</h2>
<p>The CC26XX I2C driver currently does not support:</p><ul>
<li>Multi-controller mode</li>
<li>I2C target mode</li>
</ul>
<h1>Instrumentation</h1>
<p>The I2C driver interface produces log statements if instrumentation is enabled.</p>
<table class="doxtable">
<tr>
<th>Diagnostics Mask </th><th>Log details  </th></tr>
<tr>
<td>Diags_USER1 </td><td>basic I2C operations performed </td></tr>
<tr>
<td>Diags_USER2 </td><td>detailed I2C operations performed </td></tr>
</table>
</div><div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_i2_c_8h_source.html">ti/drivers/I2C.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_power_8h_source.html">ti/drivers/Power.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_power_c_c26_x_x_8h_source.html">ti/drivers/power/PowerCC26XX.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_swi_p_8h_source.html">ti/drivers/dpl/SwiP.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for I2CCC26XX.h:</div>
<div class="dyncontent">
<div class="center"><img src="_i2_c_c_c26_x_x_8h__incl.png" border="0" usemap="#_i2_c_c_c26_x_x_8h" alt=""/></div>
<map name="_i2_c_c_c26_x_x_8h" id="_i2_c_c_c26_x_x_8h">
<area shape="rect" id="node4" href="_i2_c_8h.html" title="Inter&#45;Integrated Circuit (I2C) Controller Driver. " alt="" coords="1040,80,1157,107"/>
<area shape="rect" id="node5" href="_power_8h.html" title="Power Manager. " alt="" coords="677,80,811,107"/>
<area shape="rect" id="node9" href="_power_c_c26_x_x_8h.html" title="Power manager interface for CC26XX/CC13XX. " alt="" coords="449,155,681,181"/>
<area shape="rect" id="node15" href="_swi_p_8h.html" title="Software Interrupt module for the RTOS Porting Interface. " alt="" coords="703,393,852,420"/>
<area shape="rect" id="node6" href="_list_8h.html" title="Linked List interface for use in drivers. " alt="" coords="527,393,678,420"/>
<area shape="rect" id="node10" href="_hwi_p_8h.html" title="Hardware Interrupt module for the RTOS Porting Interface. " alt="" coords="63,393,214,420"/>
<area shape="rect" id="node11" href="_clock_p_8h.html" title="Clock interface for the RTOS Porting Interface. " alt="" coords="239,393,401,420"/>
<area shape="rect" id="node12" href="_power_c_c26_x2_8h.html" title="Power manager interface for CC26X2. " alt="" coords="449,229,679,256"/>
<area shape="rect" id="node13" href="_temperature_8h.html" title="Temperature driver. " alt="" coords="475,311,653,338"/>
</map>
</div>
</div>
<p><a href="_i2_c_c_c26_x_x_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html">I2CCC26XX_I2CPinCfg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Pin Configuration.  <a href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html">I2CCC26XX_HWAttrsV1</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Hardware attributes.  <a href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_c_c26_x_x___object.html">I2CCC26XX_Object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Object.  <a href="struct_i2_c_c_c26_x_x___object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">© Copyright 1995-2024</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
