<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thread Synchronization &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User&#39;s Guide
 7.30.00 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug freertos synchronization";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide

          </a>
              <div class="version">
                7.30.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/proprietary-rf-quick-start.html">Proprietary RF Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/examples-cc13xx_cc26xx.html">Examples User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/custom-hardware.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/tirtos-index-cc13xx_cc26xx.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/nortos-index.html">noRTOS Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/rf-core-index.html">RF Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html">Physical Layer (PHY)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/fcc-certification.html">FCC Certification Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/proprietary-rf-oad-bim-index.html">BIM Based Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/proprietary-rf-oad-mcuboot-index.html">MCUBoot Based Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/sysconfig-index.html">System Configuration Tool (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/migration-cc13xx_cc26xx.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/reference-cc13xx_cc26xx.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html">Terms and acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
      <li>Thread Synchronization</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="thread-synchronization">
<span id="sec-freertos-threadsynchronization"></span><h1>Thread Synchronization<a class="headerlink" href="#thread-synchronization" title="Permalink to this headline">¶</a></h1>
<p>The FreeRTOS kernel provides several modules for synchronizing tasks such as
RTOS Task Notifications, Semaphores, Events, and Queues.
The following sections discuss these common FreeRTOS primitives at a high level.
For more detail, see the <a class="reference external" href="https://www.freertos.org/Inter-Task-Communication.html">FreeRTOS Inter-task Communication Overview</a>.</p>
<p>In addition to the references provided in this guide, make sure to visit the
<a class="reference external" href="https://www.freertos.org/a00106.html">FreeRTOS API Reference</a> for examples and detailed descriptions of FreeRTOS APIs.</p>
<div class="section" id="rtos-task-notifications">
<span id="sec-freertos-task-notifications"></span><h2>RTOS Task Notifications<a class="headerlink" href="#rtos-task-notifications" title="Permalink to this headline">¶</a></h2>
<p>RTOS task notifications are lightweight events that are sent directly to a task,
as opposed to being sent through a semaphore, event, or queue. Tasks can block
on task notifications just as tasks can block on a semaphore. Each task has an
array of task notification, where each element in the array can serve as a
different event.</p>
<p>RTOS task notifications use less RAM and execute significantly faster than its
counterparts (i.e. semaphore, events). Notifications can only be used when there
is only one task that can be the recipient of the event.</p>
<p>For more information and examples, please refer to <a class="reference external" href="https://www.freertos.org/RTOS-task-notifications.html">FreeRTOS Task Notifications</a>
.</p>
</div>
<div class="section" id="semaphores">
<span id="sec-freertos-semaphores"></span><h2>Semaphores<a class="headerlink" href="#semaphores" title="Permalink to this headline">¶</a></h2>
<p>Semaphores are commonly used for task synchronization and mutual exclusions
throughout RTOS applications.</p>
<p>Semaphores can be <a class="reference external" href="https://www.freertos.org/Embedded-RTOS-Binary-Semaphores.html">FreeRTOS Binary Semaphores</a> or <a class="reference external" href="https://www.freertos.org/Real-time-embedded-RTOS-Counting-Semaphores.html">FreeRTOS Counting Semaphores</a>.</p>
<p>Binary semaphores can have only two
states: available (count = 1) and unavailable (count = 0). Binary semaphores
can be used to share a single resource between tasks or for a basic-signaling
mechanism where the semaphore can be “given” multiple times. Binary semaphores
do not keep track of the count; they track only whether the semaphore has been
“taken”.</p>
<p>Counting semaphores keep track of the number of items pending to be processed.
Tasks can keep track of resources or count events using counting semaphores.
When a group of resources are shared between tasks, a task can “take” a resource
by taking the semaphore associated with it. When the task is done using said
resource, it will “give” it back, freeing the semaphore. The semaphore’s count
value will increment each time it is “given”, and decrement each “take”.</p>
<span id="tbl-rtos-freertos-semaphore-translation"></span><table class="docutils align-default" id="id2">
<caption><span class="caption-text">Semaphore translation table Other RTOS vs FreeRTOS</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Other RTOS</p></td>
<td><p>FreeRTOS</p></td>
</tr>
<tr class="row-even"><td><p>Semaphore_post()</p></td>
<td><p>xSemaphoreGive()</p></td>
</tr>
<tr class="row-odd"><td><p>Semaphore_pend()</p></td>
<td><p>xSemaphoreTake()</p></td>
</tr>
</tbody>
</table>
<p>As shown above in <code class="xref std std-numref docutils literal notranslate"><span class="pre">tbl-rtos-freertos-semaphore-translation</span></code>, most other
RTOS’s use the terminology <cite>post</cite> and <cite>pend</cite> when semaphores are used. With
FreeRTOS, <cite>give</cite> and <cite>take</cite> are used as alluded to above.</p>
<p>FreeRTOS semaphore API functions allow a block time, which
indicates the maximum number of “ticks” that a task should enter the Blocked
state when attempting to take a semaphore. Taking a semaphore is a blocking
call. A task will become unblocked when a semaphore is given back.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Certain FreeRTOS APIs must not be used inside an interrupt service routine
(ISR). Make sure to use functions suffixed by <code class="docutils literal notranslate"><span class="pre">FromISR()</span></code> when called in
an ISR. As an example, <code class="docutils literal notranslate"><span class="pre">xSemaphoreGiveFromISR()</span></code> should be used inside an
ISR, not <code class="docutils literal notranslate"><span class="pre">xSemaphoreGive()</span></code>.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">semaphore.c</span></code> POSIX FreeRTOS driver provides an interface to use the
FreeRTOS semaphores through the use of a few simple API calls. The
<code class="docutils literal notranslate"><span class="pre">uart2_callback</span></code> example leverages this driver and is a good reference to see
how it may be used in an application.</p>
<p>For more information on semaphores in FreeRTOS, including examples, please refer
to the following FreeRTOS documentation on:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://www.freertos.org/Embedded-RTOS-Binary-Semaphores.html">FreeRTOS Binary Semaphores</a></p></li>
<li><p><a class="reference external" href="https://www.freertos.org/Real-time-embedded-RTOS-Counting-Semaphores.html">FreeRTOS Counting Semaphores</a></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="event-groups">
<span id="sec-freertos-overview-event"></span><h2>Event Groups<a class="headerlink" href="#event-groups" title="Permalink to this headline">¶</a></h2>
<p>Semaphores themselves provide rudimentary synchronization between threads.
Semaphores allow tasks to wait in a blocked state for a single event to occur
and typically unblock when the event occurs. If a task wishes to wait on more
than one event, a separate semaphore must be created for each event, using up
extra memory while adding additional complexity to a system.</p>
<p>Event groups are used to allow a task to wait in the blocked state for a
combination of one or more events to occur. Event groups will also unblock all
the tasks that were waiting for the same event. In addition, using Event Groups
can result in a smaller memory footprint when compared to semaphores alone.</p>
<p>Each event group contains a set of event bits (or flags). Each event flag can
be either 1 or 0. This allows the event group to be stored in a single variable.
When an event has occurred, its corresponding bit flag will be set to 1.</p>
<p>In addition to waking up a system on particular events, event groups can also be
used to sync threads with each other, using a synchronization  point. In
practice, a synchronization  point is a place in code where a task pends waiting
for other threads to be ready. When all threads are ready, each task will
unblock and execute code after the synchronization  point.</p>
<p>For more information on Event Groups in FreeRTOS, including examples, please
refer to the following FreeRTOS documentation covering <a class="reference external" href="https://www.freertos.org/FreeRTOS-Event-Groups.html">FreeRTOS Event Groups</a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>